# RabbitMQ Configuration File
# This file addresses deprecation warnings and configures RabbitMQ properly

## Deprecated Features Configuration
# Disable the deprecated management metrics collection feature
deprecated_features.permit.management_metrics_collection = false

## Feature Flags Configuration
# Enable all stable feature flags by default
feature_flags.enable_all = true

## Management Plugin Configuration
# Enable management plugin
management.tcp.port = 15672
management.tcp.ip = 0.0.0.0

# Management UI configuration - remove problematic path_prefix
management.cors.allow_origins.1 = *
management.cors.max_age = 3600

## Memory and Disk Configuration
# Set memory high watermark to 60% of total memory
vm_memory_high_watermark.relative = 0.6

# Set disk free limit
disk_free_limit.absolute = 50MB

## Logging Configuration
log.console = true
log.console.level = info
log.file = false

## Network Configuration
# AMQP 0-9-1 and AMQP 1.0 listeners
listeners.tcp.default = 5672

## Queue Configuration
# Default queue type
default_queue_type = classic

## Clustering Configuration (single node for development)
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config

## Performance Settings
# Channel max
channel_max = 2047

# Connection max
connection_max = 1000

# Heartbeat timeout
heartbeat = 60

## Security Configuration
# Default user (will be created if not exists)
# Note: User credentials are set via environment variables in .env file